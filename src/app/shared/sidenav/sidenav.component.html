<mat-sidenav-container>
  <mat-sidenav #sidenav [mode]="mobileQuery.matches  ? 'side' : 'over'" [opened]="mobileQuery.matches" autosize>
    <div fxLayout="column" style="height: 100%;">      
      <div fxLayout="column"
        style="padding:12px 16px;min-height:136px; max-height:136px; background-color: #fff; font-size: 16px;"
        fxLayoutGap="6px" fxLayoutAlign="end start">
        <!-- <div style="border-radius: 50%; background-color: #0D47A1; height: 40px; width: 40px;"> -->
        <div mat-card-avatar style="background-image: url('../../../assets/img/perfil2.png'); background-size: cover;">          
        </div>        
        <mat-card-title>Ariosto</mat-card-title>
        <mat-card-subtitle style="margin-bottom: 0 !important;">maestro18@gmail.com</mat-card-subtitle>        
      </div>
      <mat-divider></mat-divider>

  
      <div style="overflow: auto; padding-top:12px">
        <mat-nav-list>
          <a mat-list-item [routerLink]="['home']" routerLinkActive="active"
            *ngxPermissionsOnly="['Administrador','Docente','Alumno']">
            <mat-icon matListIcon>home</mat-icon>
            Inicio
          </a>
          <a mat-list-item [routerLink]="['notificaciones']" routerLinkActive="active">
            <mat-icon matListIcon>notifications</mat-icon>
            <span matBadge="{{_notificacionService.totalNotificaciones}}" matBadgeOverlap="false"
              matBadgeColor="warn">Notificaciones</span>
          </a>
          <a mat-list-item [routerLink]="['roles']" routerLinkActive="active" *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>supervised_user_circle</mat-icon>
            Roles
          </a>
          <a mat-list-item [routerLink]="['solicitudes']" routerLinkActive="active" *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>category</mat-icon>
            Tipos de solicitudes
          </a>
         
          <a mat-list-item routerLink="usuarios" [routerLinkActive]="['active']"
            *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>account_box</mat-icon>
            Usuarios
          </a>
          <a mat-list-item [routerLink]="['lineas-investigacion']" routerLinkActive="active"
            *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>notes</mat-icon>
            Lineas de investigación
          </a>
          <a mat-list-item [routerLink]="['tipos-proyectos']" routerLinkActive="active"
            *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>library_books</mat-icon>
            Tipos de proyectos
          </a>
          <a mat-list-item [routerLink]="['foros']" routerLinkActive="active" *ngxPermissionsOnly="['Administrador']">
            <mat-icon matListIcon>forum</mat-icon>
            Foros
          </a>
          <mat-expansion-panel class="mat-elevation-z0" *ngxPermissionsOnly="['Administrador']">
            <mat-expansion-panel-header>
              <mat-icon matListIcon>access_time</mat-icon>
              Horarios
            </mat-expansion-panel-header>
            <mat-nav-list>
              <a class="submenu" mat-list-item [routerLink]="['jurado']">Horario del jurado</a>
              <a class="submenu" mat-list-item [routerLink]="['generar_horario']">Generar horario</a>
            </mat-nav-list>
          </mat-expansion-panel>
          <a *ngxPermissionsOnly="['Docente']">
            <mat-list-item role="listitems">Proyectos</mat-list-item>
          </a>
          <a [routerLink]="['asignar-jurado']" routerLinkActive="active" *ngxPermissionsOnly="['Docente']">
            <mat-list-item role="listitems">Horario</mat-list-item>
          </a>
          <a mat-list-item [routerLink]="['registrar-proyecto']" routerLinkActive="active"
            *ngxPermissionsOnly="['Alumno']">
            <mat-icon matListIcon>note_add</mat-icon>
            Registrar proyecto
          </a>
          <a mat-list-item [routerLink]="[ 'cambiar_contrasena']">
            <mat-icon matListIcon>lock_open</mat-icon>
            Cambiar contraseña
          </a>
        </mat-nav-list>
      </div>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar style="z-index: 9999; position: sticky; top:0;background-color: white; color:black; min-height: 64px !important;">
      <button mat-icon-button>
        <mat-icon aria-label="label" (click)="sidenav.toggle()">menu</mat-icon>
      </button>
      <span class="btn-user"></span>
      <!-- <button mat-icon-button [matMenuTriggerFor]="menuNotificaciones">       
        <mat-icon matBadge="15" matBadgeColor="warn">notifications</mat-icon>
      </button>
      <mat-menu #menuNotificaciones="matMenu" xPosition="before" >

        <mat-nav-list style="width: 100% !important;">
          <mat-list-item *ngFor="let item of notificaciones" style="height: 299px !important">
            <div fxFlex="25">
              <mat-icon>book</mat-icon>
            </div>
            <div fxFlex="75">
              <h3 matLine> {{item.proyecto.titulo}} </h3>
              <p matLine> {{item.proyecto.folio}} </p>
            </div>
          </mat-list-item>
        </mat-nav-list>
      </mat-menu> -->
      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Cerrar sesión</span>
        </button>
        <div *ngIf="contarRoles() > 1">
          <a mat-menu-item *ngFor="let rol of roles" [routerLink]="['/' + rol]">{{ rol }}</a>
        </div>
      </mat-menu>
    </mat-toolbar>    
    <div class="main-container" style="padding:24px">

      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>