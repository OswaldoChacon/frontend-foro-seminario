<div
    fxLayout="row"
    fxLayout.lt-sm="row"
    fxLayoutGap="16px"
>
    <div fxFlex="60">

        <mat-card>
            <mat-card-header>
                <mat-card-title>Datos personales</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form
                    [formGroup]="formPerfil"
                    (ngSubmit)="actualizarDatos()"
                    #form="ngForm"
                >
                    <mat-form-field appearance="standard">
                        <mat-label>Número de control</mat-label>
                        <input
                            matInput
                            formControlName="num_control"
                            required
                        >
                        <mat-icon matSuffix>vpn_key</mat-icon>
                        <mat-error *ngIf="formPerfil.get('num_control').hasError('required')">
                            El campo número de control es obligatorio
                        </mat-error>
                        <mat-error *ngIf="formPerfil.get('num_control').hasError('serverError')">
                            {{ formPerfil.get('num_control').errors?.serverError }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="standard">
                        <mat-label>Nombre del usuario</mat-label>
                        <input
                            matInput
                            formControlName="nombre"
                            required
                        >
                        <mat-icon matSuffix>account_circle</mat-icon>
                        <mat-error *ngIf="formPerfil.get('nombre').hasError('required')">El campo nombre es obligatorio</mat-error>
                    </mat-form-field>
                    <div
                        fxLayout.gt-sm="row"
                        fxLayout="column"
                        fxLayoutGap.gt-sm="20px"
                    >
                        <mat-form-field appearance="standard">
                            <mat-label>Apellido paterno</mat-label>
                            <input
                                matInput
                                formControlName="apellidoP"
                                required
                            >
                            <mat-error *ngIf="formPerfil.get('apellidoP').hasError('required')">El campo email es obligatorio</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="standard">
                            <mat-label>Apellido materno</mat-label>
                            <input
                                matInput
                                formControlName="apellidoM"
                                required
                            >
                            <mat-error *ngIf="formPerfil.get('apellidoM').hasError('required')">El campo email es obligatorio</mat-error>
                        </mat-form-field>
                    </div>
                    <mat-form-field appearance="standard">
                        <mat-label>Email</mat-label>
                        <input
                            matInput
                            formControlName="email"
                            placeholder="Email"
                            required
                        >
                        <mat-icon matSuffix>email</mat-icon>
                        <mat-error *ngIf="formPerfil.get('email').hasError('required')">El campo email es obligatorio</mat-error>
                        <mat-error *ngIf="formPerfil.get('email').hasError('email')">Formato de email incorrecto</mat-error>
                        <mat-error *ngIf="formPerfil.get('email').hasError('serverError')">
                            {{ formPerfil.get('email').errors?.serverError }}
                        </mat-error>
                    </mat-form-field>
                </form>
            </mat-card-content>
            <mat-card-actions align="end">
                <button
                    mat-button
                    [disabled]="form.form.invalid"
                    (click)="form.ngSubmit.emit()"
                >
                    Guardar
                </button>
            </mat-card-actions>
        </mat-card>
    </div>
    <div fxFlex="40">
        <app-cambiar-contrasena></app-cambiar-contrasena>
    </div>
</div>
