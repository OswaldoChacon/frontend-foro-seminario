<app-header>
    <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon
            aria-label="label"            
        >
            menu
        </mat-icon>
    </button>
</app-header>
<mat-sidenav-container>
    <mat-sidenav
        #sidenav
        [mode]="mobileQuery.matches  ? 'side' : 'over'"
        [opened]="mobileQuery.matches"
        autosize
    >
        <mat-nav-list>
            <a
                mat-list-item
                [routerLink]="['home']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador','Docente','Alumno']"
            >
                <mat-icon matListIcon>home</mat-icon>
                Inicio
            </a>
            <a
                mat-list-item
                routerLink="usuarios"
                [routerLinkActive]="['active']"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>account_box</mat-icon>
                Usuarios
            </a>
            <a
                mat-list-item
                [routerLink]="['registrar-alumno']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Taller']"
            >
                <mat-icon matListIcon>account_box</mat-icon>
                Registrar alumnos
            </a>
            <a
                mat-list-item
                [routerLink]="['notificaciones']"
                routerLinkActive="active"
            >
                <mat-icon matListIcon>notifications</mat-icon>
                <span
                    matBadge="{{_notificacionService.totalNotificaciones}}"
                    matBadgeOverlap="false"
                    matBadgeColor="warn"
                >
                    Notificaciones
                </span>
            </a>
            <a
                mat-list-item
                [routerLink]="['roles']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>supervised_user_circle</mat-icon>
                Roles
            </a>
            <a
                mat-list-item
                [routerLink]="['solicitudes']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>category</mat-icon>
                Tipos de solicitudes
            </a>
            <a
                mat-list-item
                [routerLink]="['lineas-investigacion']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>notes</mat-icon>
                Lineas de investigación
            </a>
            <a
                mat-list-item
                [routerLink]="['tipos-proyectos']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>library_books</mat-icon>
                Tipos de proyectos
            </a>
            <a
                mat-list-item
                [routerLink]="['foros']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>forum</mat-icon>
                Foros
            </a>
            
            <mat-expansion-panel
                class="mat-elevation-z0"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-expansion-panel-header>
                    <mat-icon matListIcon>access_time</mat-icon>
                    Horarios
                </mat-expansion-panel-header>
                <mat-nav-list>
                    <a
                        class="submenu"
                        mat-list-item
                        [routerLink]="['jurado']"
                    >
                        Horario del jurado
                    </a>
                    <a
                        class="submenu"
                        mat-list-item
                        [routerLink]="['generar_horario']"
                    >
                        Generar horario
                    </a>
                </mat-nav-list>
            </mat-expansion-panel>
            <a
                mat-list-item
                [routerLink]="['plantillas']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Administrador']"
            >
                <mat-icon matListIcon>assignment</mat-icon>
                Plantillas de evaluacion
            </a>
            <a
                mat-list-item
                [routerLink]="['registrar-proyecto']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Alumno']"
            >
                <mat-icon matListIcon>book</mat-icon>
                Registrar proyecto
            </a>
            <a
                mat-list-item
                [routerLink]="['registrar-solicitud']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Alumno']"
            >
                <mat-icon matListIcon>note_add</mat-icon>
                Registrar solicitud
            </a>
            <a
                mat-list-item
                [routerLink]="['mis-solicitudes']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Alumno']"
            >
                Solicitudes
            </a>
            <a
                mat-list-item
                [routerLink]="['mis-proyectos']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Alumno','Docente']"
            >
                <mat-icon matListIcon>collections_bookmark</mat-icon>
                Mis proyectos
            </a>
            <a
                [routerLink]="['asignar-jurado']"
                routerLinkActive="active"
                *ngxPermissionsOnly="['Docente']"
            >
                <mat-list-item role="listitems">Horario</mat-list-item>
            </a>
            <!-- <a
                mat-list-item
                [routerLink]="[ 'cambiar_contrasena']"
            >
                <mat-icon matListIcon>lock_open</mat-icon>
                Cambiar contraseña
            </a> -->
        </mat-nav-list>




    </mat-sidenav>
    <mat-sidenav-content>
        <!-- <mat-toolbar style="z-index: 9999; position: sticky; top:0;background-color: #0D47A1; color:white; min-height: 64px !important;"> -->
        <!-- <mat-toolbar style="z-index: 9999; position: sticky; top:0;background-color: white; color:black; min-height: 64px !important;">
            <button mat-icon-button>
                <mat-icon
                    aria-label="label"
                    (click)="sidenav.toggle()"
                >
                    menu
                </mat-icon>
            </button>
            <span class="btn-user"></span>
            <button
                mat-icon-button
                [matMenuTriggerFor]="menu"
            >
                <mat-icon>account_circle</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
                <button
                    mat-menu-item
                    (click)="logout()"
                >
                    <mat-icon>exit_to_app</mat-icon>
                    <span>Cerrar sesión</span>
                </button>
                <div *ngIf="contarRoles() > 1">
                    <a
                        mat-menu-item
                        *ngFor="let rol of roles"
                        [routerLink]="['/' + rol]"
                    >
                        {{ rol }}
                    </a>
                </div>
            </mat-menu>
        </mat-toolbar> -->









        <!-- <app-header>
            <button mat-icon-button>
                <mat-icon
                    aria-label="label"
                    (click)="sidenav.toggle()"
                    >
                    menu
                </mat-icon>
            </button>
        </app-header> -->










        <div
            class="main-container"
            style="padding:24px"
        >
            <router-outlet></router-outlet>
        </div>
    </mat-sidenav-content>
</mat-sidenav-container>
